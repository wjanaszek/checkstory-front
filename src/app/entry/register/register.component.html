<mat-card>
  <mat-card-title>
    <h3 mat-subheader>Register</h3>
    <mat-divider></mat-divider>
  </mat-card-title>
  <mat-card-content>
    <form class="register_page" [formGroup]="form">
      <div class="col-md-12 register_field">
        <mat-form-field>
          <input matInput placeholder="Login" formControlName="login">
          <mat-hint>
            <mat-error *ngIf="!form.get('login').pristine && form.get('login').status === 'INVALID'">
              Login already in use
            </mat-error>
            <mat-error *ngIf="form.get('login').hasError('required') && form.get('login').touched">
              Login is required
            </mat-error>
          </mat-hint>
        </mat-form-field>
        <div *ngIf="form.get('login').status === 'PENDING'">
          Checking...
        </div>
        <div *ngIf="form.get('login').status === 'VALID'">
          Login available
        </div>
        <mat-form-field>
          <input type="email" matInput placeholder="Email" formControlName="email">
          <mat-hint>
            <mat-error *ngIf="!form.get('email').pristine
              && form.get('email').status === 'INVALID'
              && form.get('email').value !== ''">
              Email already in use
            </mat-error>
            <mat-error *ngIf="form.get('email').hasError('required') && form.get('email').touched">
              Email is required
            </mat-error>
          </mat-hint>
        </mat-form-field>
        <div *ngIf="form.get('email').status === 'PENDING'">
          Checking...
        </div>
        <div *ngIf="form.get('email').status === 'VALID'">
          Email available
        </div>
        <mat-form-field>
          <input type="password" matInput placeholder="Password" formControlName="password">
          <mat-hint>
            <mat-error *ngIf="form.get('password').hasError('required') && form.get('password').touched">
              Password is required
            </mat-error>
          </mat-hint>
        </mat-form-field>
        <mat-form-field>
          <input type="password" matInput placeholder="Confirm password" autocomplete="false"
                 formControlName="confirmPassword">
          <mat-hint>
            <mat-error *ngIf="form.get('confirmPassword').errors
                                              && form.get('confirmPassword').touched
                                              && form.get('password').touched">
              Password not match
            </mat-error>
          </mat-hint>
        </mat-form-field>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions>
    <div class="col-md-12">
      <button mat-button type="submit" class="signup_btn" (click)="submit()" [disabled]="form.invalid || form.pristine">
        Sign up
      </button>
    </div>
  </mat-card-actions>
</mat-card>
